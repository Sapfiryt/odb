<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create</title>

    <script type="text/javascript" src="/js/field.js"></script>
</head>
<body>
    {{>header}}
    <div>
        <form id="creationForm" name="creationForm" action="/organizer/create" method="post">
            <input name="{{_csrf.parameterName}}" type="hidden" value="{{_csrf.token}}"/>
            <div>
                <label>
                    Name:
                    <input name="name" type="text" value="{{creationForm.name}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{name}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    About:
                    <input name="about" type="text" value="{{creationForm.about}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{about}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    Cost:
                    <input name="cost" type="number" value="{{creationForm.cost}}"/>
                    $
                </label>
                {{#errors}}
                <label style="color: red">
                    {{cost}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    Date:
                    <input name="dateOf" type="datetime-local" value="{{creationForm.dateOf}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{dateOf}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    Max Participants:
                    <input name="maxParticipants" type="number" value="{{creationForm.maxParticipants}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{maxParticipants}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    Min Participants:
                    <input name="minParticipants" type="number" value="{{creationForm.minParticipants}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{minParticipants}}
                </label>
                {{/errors}}
            </div>
            <div>
                <label>
                    Year:
                    <input name="year" type="date" value="{{creationForm.year}}"/>
                </label>
                {{#errors}}
                <label style="color: red">
                    {{year}}
                </label>
                {{/errors}}
            </div>
            <div>
            <label>
                Location:
                <select id="locationSelector" name="locationId" onchange="showLocation()" >
                    {{#locations}}
                    <option value="{{id}}">{{name}}</option>
                    {{/locations}}
                </select>
                {{#errors}}
                <label style="color: red">
                    {{locationError}}
                </label>
                {{/errors}}
            </label>
            </div>
            {{#locations}}
            <div id="location{{id}}" style="display: none">
                <h3>{{name}}</h3>
                <div>
                    <img src="data:image/jpeg;base64,{{img}}">
                </div>
                <div>
                    <label>Address:</label>
                    <h3>{{country}}, {{address}}</h3>
                </div>
            </div>
            {{/locations}}
            <div>
                <h2>Attributes</h2>
                {{#attributes}}
                    <div>
                        {{#.}}
                        <h3>Name:{{name}}</h3>
                        <h3>Description:{{description}}</h3>
                        <h3>Amount: {{amount}}</h3>
                        <h3>Cost: {{cost}}</h3>
                        <h3>Type: {{type}}</h3>
                        <div id="avaibleAmount{{id}}" style="display: none">{{amount}}</div>
                        <input id="amount{{id}}" name="amount" type="number" onchange="checkAmount(this)" disabled="true"/>
                        <input id="attribute{{id}}" name="attributesId" type="checkbox" onchange="enableField(this)" value="{{id}}"/>
                        {{/.}}
                    </div>
                {{/attributes}}
            </div>
            <script>showLocation()</script>
            <input type="submit" value="Create"/>
        </form>
    </div>
</body>
</html>